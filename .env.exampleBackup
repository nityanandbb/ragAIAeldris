include .env
export

PY=python
PIP=pip

.PHONY: seed test contract functional k6 ragas promptfoo all

seed:
	$(PY) scripts/seed.py

contract:
	pytest -q tests/test_contract.py

functional:
	pytest -q tests/test_rag_functional.py

test: contract functional

k6:
	k6 run k6/script.js

ragas:
	$(PY) evals/run_ragas.py --gold data/gold.csv --out evals/metrics.json

promptfoo:
	npx promptfoo eval

all: seed test k6 ragas promptfoo
